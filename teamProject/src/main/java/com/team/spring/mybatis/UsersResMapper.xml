<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="usersRes">
	<insert id="insert" parameterType="usersRes">
		INSERT INTO usersRes
		(id, movieName, moviePrice, condCurr, point, regdate)
		VALUES(1, #{movieName}, #{moviePrice}, #{currCon}, #{point}, SYSDATE)
	</insert>
	<select id="getSumPrice" parameterType="string" resultType="int">
		SELECT sum(moviePrice)
		FROM usersRes
		WHERE id=1 AND currCon=1
	</select>
	<select id="getData" parameterType="string" resultType="usersRes">
		SELECT id, movieName, moviePrice, condCurr, point, regdate
		FROM usersRes
		WHERE id=1
	</select>
	<update id="cancelRes" parameterType="usersRes">
		UPDATE usersRes
		SET currCon=1, point=#{point}
		WHERE id=1
	</update>
</mapper>






















